#summary TopoDroid database.

== TopoDroid DB ==

TopoDroid stores the data in a SQLite database. The default location of this file 
is in the TopoDroid directory in the "external storage". The user can override this
by specifying a different place for the directory "TopoDroid".

This page describes TopoDroid db v 1.0 (name "distox5.db").


The database contains the following tables
  * surveys: list of surveys
  * shots: the surveys shots
  * plots: the surveys plot metadata
  * fixeds: for fixed stations (GPS localized)
  * calibs: list of calibrations
  * gms: the calibrations data

The *surveys* table contains the following fields
  * id: unique identifier of the survey (integer)
  * name: survey nickname (text, one word)
  * date: survey date (yyyy-mm-dd)
  * team: team members
  * comment: survey description (text)

The *shots* table contains the following fields
  * surveyId: id of the survey to which the shot belongs (integer)
  * id: unique shot identifier (integer)
  * fStation: shot from station
  * tStation: shot to station (blank for splay shots)
  * distance (double) as tranferred from the DistoX (meters)
  * bearing (double) as tranferred from the DistoX (decimal degrees)
  * clino (double) as tranferred from the DistoX (decimal degrees)
  * roll (double) as tranferred from the DistoX (decimal degrees)
  * status (integer), can be 0 (normal) or 1 (deleted)
  * extend (integer). It can be
     * -1 (left)
     * +1 (right)
     * 0  (vertical)
  * flag (integer): it can be
     * 0 cave (normal) shot
     * 1 surface shot
     * 2 duplicate shot
  * comment (text)

The *plots* table has the following fields
  * surveyId: id of the survey to which the plot belongs (integer)
  * id: unique plot identifier (integer)
  * name (text) plot/scrap name
  * type (integer), scrap type: 
      * 0 (none)
      * 1 (plan)
      * 2 (extended)
      * 3 (x-section)
  * status (integer), can be 0 (normal) or 1 (deleted)
  * start (text) plot reference station. The plot data are relative to this station which is the origin of the plot coordinate system.
  * view the viewing station for cross sections

The *fixeds* table contains the following fields
  * surveyId
  * id
  * station
  * longitude (decimal degrees)
  * latitude (decimal degrees)
  * altitude (meters)
  * comment
  * status

The *photos* table contains
  * surveyId
  * id
  * station
  * comment

The *calibs* table has the following fields
  * id (integer) unique identifier
  * name (text) calibration name
  * day (text) calibration date (yyyy-mm-dd)
  * device, the DistoX device
  * comment (text) additional description

The *gms* table has the following fields
  * calibId (integer) id of the calibration to which this data belongs
  * id (integer) unique identifier
  * gx, gy, gz (integer)
  * mx, my, mz (integer)
  * grp (integer) group. It must be positive; data with group "0" are not used to compute the calibration
  * error (double) error of this data, in the computation of the calibration